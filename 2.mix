<xml version="Mixly 2.0 rc4" board="Arduino AVR@Arduino/Genuino Uno"><block type="procedures_defnoreturn" id="]a1]gH3oqobd20[rIvpx" x="-2191" y="-936"><field name="NAME">triggerAlarm</field><statement name="STACK"><block type="variables_declare" id="0S=TDhP_/pY^4`{y=pE*"><field name="variables_type">local_variate</field><field name="VAR">currentMillis</field><field name="TYPE">unsigned long</field><value name="VALUE"><block type="factory_block_return" id="|Jtlw-AGOqlsY/dGvIe@"><field name="VALUE">millis()</field></block></value><next><block type="controls_if" id="t_+7F{Z]w0Sb|y`2TkWj"><value name="IF0"><block type="logic_compare" id="#zZ3K0cH5BVm=Agj`Gg_"><field name="OP">GTE</field><value name="A"><block type="math_arithmetic" id="I4~;xj!$=M*ZW-)J3NVs"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="}]Xv!76t`PdnBR$`s,|b"><field name="NUM">1</field></shadow><block type="variables_get" id="iuz$lUcvzt$Qwm6BQ($t"><field name="VAR">currentMillis</field></block></value><value name="B"><shadow type="math_number" id="1:OH6pBNuQt3kDFZN+P8"><field name="NUM">1</field></shadow><block type="variables_get" id="m3wwu_^fmBr.5C6?0a)b"><field name="VAR">previousMillis</field></block></value></block></value><value name="B"><block type="variables_get" id="~2t(N@LNMm3sM9;Qh,/o"><field name="VAR">interval</field></block></value></block></value><statement name="DO0"><block type="variables_declare" id="_tp(!oQ*L?8R]@rJg17-"><field name="variables_type">local_variate</field><field name="VAR">state</field><field name="TYPE">int</field><value name="VALUE"><block type="inout_digital_read2" id="/9C/zbb8g/3N+3`KCzPx"><value name="PIN"><shadow type="pins_digital" id=".R{3I2+42-A^z8wp2nMK"><field name="PIN">5</field></shadow></value></block></value><next><block type="inout_digital_write2" id="X!VN#KbHI2{/X9Wi!/vK"><value name="PIN"><shadow type="pins_digital" id="cHKMb]-kzp~ZMEbl?~u("><field name="PIN">0</field></shadow><block type="variables_get" id="WM}nko8|d8T9HiR(~L_3"><field name="VAR">ledPin</field></block></value><value name="STAT"><shadow type="inout_highlow" id="TRd]p$3MNn*mQ(bk,l3["><field name="BOOL">HIGH</field></shadow><block type="logic_negate" id="Z`piI7(T7Q;y]Ya``LFi"><value name="BOOL"><block type="variables_get" id="LiHC0l,SC]!lfTZcb$DJ"><field name="VAR">state</field></block></value></block></value><next><block type="inout_digital_write2" id="lxO:blqVZ`yIbhET}+1R"><value name="PIN"><shadow type="pins_digital" id="pWlUbmnt5lsG|U@Y|MsL"><field name="PIN">0</field></shadow><block type="variables_get" id="MlifcM!ne*4=$aX?wMZG"><field name="VAR">buzzerPin</field></block></value><value name="STAT"><shadow type="inout_highlow" id="L+9!UOwymCcI^n)tnFP0"><field name="BOOL">HIGH</field></shadow><block type="logic_negate" id="N,M*f[*REO}Z5#m,x;)U"><value name="BOOL"><block type="variables_get" id="K!IaG!9=pT-O_9V6LH27"><field name="VAR">state</field></block></value></block></value></block></next></block></next></block></statement></block></next></block></statement></block><block type="base_setup" id="3AW^3s5LHnyK-{Y|g_oW" x="-1441" y="-955"><statement name="DO"><block type="serial_begin" id=")xEh?5x|bznR]UW!L_uQ"><field name="serial_select">Serial</field><value name="CONTENT"><shadow type="math_number" id="$-AQFFV.}j17$1AlULk?"><field name="NUM">9600</field></shadow></value><next><block type="inout_pinMode" id="Ca],MU6]DAy/V(YqvcsW"><field name="MODE">OUTPUT</field><value name="PIN"><shadow type="pins_digital" id="Zu^d:kI=Ca|taz.qn^Dd"><field name="PIN">0</field></shadow><block type="variables_get" id="DjWKUCRZC65[h0wb,c#K"><field name="VAR">ledPin</field></block></value><next><block type="variables_declare" id="a]DAGck+Q):BQtosg3Lp"><field name="variables_type">global_variate</field><field name="VAR">ledPin</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="TDKF06@3{*x)AS}:ICv-"><field name="NUM">5</field></block></value><next><block type="variables_declare" id="tBXM=SCERcoilED277kU"><field name="variables_type">global_variate</field><field name="VAR">sensorPin</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="#2?*{h#xHHm4eW{JuF7+"><field name="NUM">A0</field></block></value><next><block type="variables_declare" id="K5$O4s$4|V6/yG=xB=aL"><field name="variables_type">global_variate</field><field name="VAR">resetButtonPin</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="@kLJvt{xm2Y)m`FC/xpV"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="IWB/U(2`Z7NP2H|~^Pc$"><field name="variables_type">global_variate</field><field name="VAR">interval</field><field name="TYPE">unsigned long</field><value name="VALUE"><block type="math_number" id="gmMij.Pz.ab(QEZ/0|S["><field name="NUM">500</field></block></value><next><block type="variables_declare" id="~*d^8ANp=n*D;YX[@z:g"><field name="variables_type">global_variate</field><field name="VAR">buzzerPin</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="G#=/ZVVWkT-7pN@Gr9Tm"><field name="NUM">1</field></block></value><next><block type="inout_digital_write2" id="?}2_jG1fTX#vcdQ+n;$_"><value name="PIN"><shadow type="pins_digital" id="?gxV=TJGyg2$t-5x7qyo"><field name="PIN">0</field></shadow><block type="variables_get" id="4JUZ]NnFCYx6oB-oU*;Q"><field name="VAR">ledPin</field></block></value><value name="STAT"><shadow type="inout_highlow" id="7?*WuJ@SoYMvn`@GtTo="><field name="BOOL">LOW</field></shadow></value><next><block type="inout_digital_write2" id="!T?8vB5bi[Pj~2L=E9^3"><value name="PIN"><shadow type="pins_digital" id="M5E#,~?@$!DmV!V]4y$V"><field name="PIN">0</field></shadow><block type="variables_get" id="sX!mG||V_)o-uxsnK2fW"><field name="VAR">buzzerPin</field></block></value><value name="STAT"><shadow type="inout_highlow" id="T3=kWL{;I_J#Gc-,=V9S"><field name="BOOL">LOW</field></shadow></value><next><block type="variables_declare" id="}q~)@.P]kvaq5k0qkb*N"><field name="variables_type">global_variate</field><field name="VAR">previousMillis</field><field name="TYPE">unsigned int</field><value name="VALUE"><block type="math_number" id="$M3(CO!$s:WoqX6_=4JL"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="{s6NR-KwIp1~Q0NZW|lI"><field name="variables_type">global_variate</field><field name="VAR">sensorValue</field><field name="TYPE">float</field><value name="VALUE"><block type="math_number" id="*l(ul;^td``C;D+]!Hze"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="D:f.T^L4lp-h~egeaVES"><field name="variables_type">global_variate</field><field name="VAR">threshold</field><field name="TYPE">float</field><value name="VALUE"><block type="math_number" id="4tMxd!Ak;0;70+,*vsim"><field name="NUM">50.0</field></block></value><next><block type="variables_declare" id="sXWAUszd^[ipuEmo]aB,"><field name="variables_type">global_variate</field><field name="VAR">alarmActive</field><field name="TYPE">boolean</field><value name="VALUE"><block type="logic_boolean" id="BlVs+G{mMGNUWYQ_FTFF"><field name="BOOL">FALSE</field></block></value><next><block type="inout_pinMode" id="y(.-YI/TQT4$c{FZ*m*e"><field name="MODE">OUTPUT</field><value name="PIN"><shadow type="pins_digital" id="KZe:wR5bfdxlm*5`IPPQ"><field name="PIN">0</field></shadow><block type="variables_get" id="C.po5O)!Svpi4xx|9CIe"><field name="VAR">buzzerPin</field></block></value><next><block type="inout_pinMode" id="A{8zN=nGo(r9k={FG:vM"><field name="MODE">INPUT_PULLUP</field><value name="PIN"><shadow type="pins_digital" id="9JOPm31mZY9Ih`)E~GZ{"><field name="PIN">0</field></shadow><block type="variables_get" id="$n1e2_7NW1?2@6IT}|[k"><field name="VAR">resetButtonPin</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="text" id="!tAQMv$x-V!2W^_K|V5]" x="-747" y="-787"><field name="TEXT">hello</field></block><block type="procedures_defnoreturn" id="jR|H$b6[QS5X_Yz!lOcX" x="-2184" y="-650"><field name="NAME">stopAlarm</field><statement name="STACK"><block type="inout_digital_write2" id="3~ngL5d1(b^ru3^1;42g"><value name="PIN"><shadow type="pins_digital" id="41PL=lU`c(QZ+HXDRZDe"><field name="PIN">0</field></shadow><block type="variables_get" id="|5m|.[0X|n#*#(mn|3VV"><field name="VAR">ledPin</field></block></value><value name="STAT"><shadow type="inout_highlow" id="-4-1Gs|pE236*N@lj-{3"><field name="BOOL">LOW</field></shadow></value><next><block type="inout_digital_write2" id="x]-M8bY(MNG~72(@YtqP"><value name="PIN"><shadow type="pins_digital" id="~P=0t7G5s9fwda?U?x:a"><field name="PIN">0</field></shadow><block type="variables_get" id="z^@U!n^f^L6$@ZN@L^yO"><field name="VAR">buzzerPin</field></block></value><value name="STAT"><shadow type="inout_highlow" id="={-~mm)7CY*l=o/Cofgn"><field name="BOOL">LOW</field></shadow></value></block></next></block></statement></block><block type="variables_declare" id="VZki}8!LJA^81#Y[/f@R" x="-2200" y="-487"><field name="variables_type">local_variate</field><field name="VAR">sensorValue</field><field name="TYPE">float</field><value name="VALUE"><block type="inout_analog_read" id="gtfXbTTzTcX{rKes7;v2"><value name="PIN"><shadow type="pins_analog" id="mRX,gmKGja^uyX{1V!Wp"><field name="PIN">A0</field></shadow></value></block></value><next><block type="serial_print" id="^iDsEMa(uXyala3!Abk-"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="variables_get" id="Y_l1~Ib]N+j#*xE@`po}"><field name="VAR">sensorValue</field></block></value><next><block type="variables_set" id="o`x#zAV2fC;vYaL0PMr|"><field name="VAR">sensorValue</field><value name="VALUE"><block type="math_arithmetic" id="6A5XNzQ,sB!?edE-X0h|"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="e51.$sib$##Bc-`DIbiW"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="ClQ!La;5UD-cIldgQ(??"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="ioJ=Yjg=G=`tPECeL7TU"><field name="NUM">1</field></shadow><block type="variables_get" id="eY)7e7pTQEptzMkHmV`~"><field name="VAR">sensorValue</field></block></value><value name="B"><shadow type="math_number" id="uzd4iJIlEtT4+/6C|(s)"><field name="NUM">100</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="VDdAgSQ199Q;vwY8B+?F"><field name="NUM">1024</field></shadow></value></block></value><next><block type="variables_declare" id="F;9DZk-:IKTT.;ETQ~.5"><field name="variables_type">local_variate</field><field name="VAR">resetPressed</field><field name="TYPE">boolean</field><value name="VALUE"><block type="logic_compare" id="sq-0:t18TLm,q3{OZ6Lf"><field name="OP">EQ</field><value name="A"><block type="inout_digital_read2" id="+m@1C#lPt:Z$lAkhd^vN"><value name="PIN"><shadow type="pins_digital" id="@]=OvGWqEAWGPb2U{e50"><field name="PIN">2</field></shadow></value></block></value><value name="B"><block type="inout_highlow" id="dh:iA@iJZTy[L1vSsR6("><field name="BOOL">LOW</field></block></value></block></value><next><block type="controls_if" id="TD0kidCR-O15WT9ckk1P"><value name="IF0"><block type="variables_get" id="hItTN{+/N2L#v+Pe43vr"><field name="VAR">resetPressed</field></block></value><statement name="DO0"><block type="variables_set" id="an[wSfC*)h,,Se6:5F5l"><field name="VAR">alarmActive</field><value name="VALUE"><block type="logic_boolean" id="cXiZu0K9$eqi|nt`Jz0c"><field name="BOOL">FALSE</field></block></value><next><block type="procedures_callnoreturn" id="@5RSrv_:lQbqQ@u?uE5A"><mutation name="stopAlarm"></mutation><next><block type="controls_delay" id="r!!;u`){CO9kR$^~]._M"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="sCU8MecL5inv)7jBwsR3"><field name="NUM">200</field></shadow></value></block></next></block></next></block></statement><next><block type="controls_if" id="YfoW*R.`V.e|6$9Sq|v?"><value name="IF0"><block type="logic_operation" id="[}3-2hAZ8p4?c}Pu5NrE"><field name="OP">AND</field><value name="A"><block type="logic_compare" id="+r|dykC_SpLa70vu0FYK"><field name="OP">LT</field><value name="A"><block type="variables_get" id="Bf79/Si;$ndkT,nr9Kzv"><field name="VAR">sensorValue</field></block></value><value name="B"><block type="variables_get" id="{w{D}kii,:3kHO=Hv:G."><field name="VAR">threshold</field></block></value></block></value><value name="B"><block type="logic_negate" id="vBWaDzem9Mq;-O.xuC}E"><value name="BOOL"><block type="variables_get" id="lBj}[T(IqLEl`}3M64S6"><field name="VAR">alarmActive</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="Y!,ku;-R^)jJh[l6!W=r"><field name="VAR">alarmActive</field><value name="VALUE"><block type="logic_boolean" id="yS*-n`m@t?1_P_38uk?("><field name="BOOL">TRUE</field></block></value></block></statement><next><block type="controls_if" id="z$)bMT#aMt^:=L]-^Zg:"><value name="IF0"><block type="variables_get" id="iyB8y$OC)(XyY(|tevW0"><field name="VAR">alarmActive</field></block></value><statement name="DO0"><block type="procedures_callnoreturn" id="PQwulEa]]uDYfZcgn)cf"><mutation name="triggerAlarm"></mutation></block></statement><next><block type="controls_delay" id="Bi;1z_r}n=b/oGC$N^an"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="Ru}-x!hV,,ZIgjx4vido"><field name="NUM">300</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></xml><config>{}</config><code>dm9sYXRpbGUgaW50IGxlZFBpbjsKdm9sYXRpbGUgaW50IHNlbnNvclBpbjsKdm9sYXRpbGUgaW50IHJlc2V0QnV0dG9uUGluOwp2b2xhdGlsZSB1bnNpZ25lZCBsb25nIGludGVydmFsOwp2b2xhdGlsZSBpbnQgYnV6emVyUGluOwp2b2xhdGlsZSB1bnNpZ25lZCBpbnQgcHJldmlvdXNNaWxsaXM7CnZvbGF0aWxlIGZsb2F0IHNlbnNvclZhbHVlOwp2b2xhdGlsZSBmbG9hdCB0aHJlc2hvbGQ7CnZvbGF0aWxlIGJvb2xlYW4gYWxhcm1BY3RpdmU7Cgp2b2lkIHRyaWdnZXJBbGFybSgpIHsKICB1bnNpZ25lZCBsb25nIGN1cnJlbnRNaWxsaXMgPSBtaWxsaXMoKTsKICBpZiAoY3VycmVudE1pbGxpcyAtIHByZXZpb3VzTWlsbGlzID49IGludGVydmFsKSB7CiAgICBpbnQgc3RhdGUgPSBkaWdpdGFsUmVhZCg1KTsKICAgIHBpbk1vZGUobGVkUGluLCBPVVRQVVQpOwogICAgZGlnaXRhbFdyaXRlKGxlZFBpbiwoIXN0YXRlKSk7CiAgICBwaW5Nb2RlKGJ1enplclBpbiwgT1VUUFVUKTsKICAgIGRpZ2l0YWxXcml0ZShidXp6ZXJQaW4sKCFzdGF0ZSkpOwoKICB9Cn0KCnZvaWQgc3RvcEFsYXJtKCkgewogIHBpbk1vZGUobGVkUGluLCBPVVRQVVQpOwogIGRpZ2l0YWxXcml0ZShsZWRQaW4sTE9XKTsKICBwaW5Nb2RlKGJ1enplclBpbiwgT1VUUFVUKTsKICBkaWdpdGFsV3JpdGUoYnV6emVyUGluLExPVyk7Cn0KCnZvaWQgc2V0dXAoKXsKICBwaW5Nb2RlKDUsIElOUFVUKTsKICBTZXJpYWwuYmVnaW4oOTYwMCk7CiAgbGVkUGluID0gNTsKICBzZW5zb3JQaW4gPSBBMDsKICByZXNldEJ1dHRvblBpbiA9IDA7CiAgaW50ZXJ2YWwgPSA1MDA7CiAgYnV6emVyUGluID0gMTsKICBwcmV2aW91c01pbGxpcyA9IDA7CiAgc2Vuc29yVmFsdWUgPSAwOwogIHRocmVzaG9sZCA9IDUwLjA7CiAgYWxhcm1BY3RpdmUgPSBmYWxzZTsKICBwaW5Nb2RlKGxlZFBpbiwgT1VUUFVUKTsKICBwaW5Nb2RlKGxlZFBpbiwgT1VUUFVUKTsKICBkaWdpdGFsV3JpdGUobGVkUGluLExPVyk7CiAgcGluTW9kZShidXp6ZXJQaW4sIE9VVFBVVCk7CiAgZGlnaXRhbFdyaXRlKGJ1enplclBpbixMT1cpOwogIHBpbk1vZGUoYnV6emVyUGluLCBPVVRQVVQpOwogIHBpbk1vZGUocmVzZXRCdXR0b25QaW4sIElOUFVUX1BVTExVUCk7CiAgcGluTW9kZSgyLCBJTlBVVCk7Cn0KCnZvaWQgbG9vcCgpewogICJoZWxsbyI7CgogIGZsb2F0IHNlbnNvclZhbHVlID0gYW5hbG9nUmVhZChBMCk7CiAgU2VyaWFsLnByaW50bG4oc2Vuc29yVmFsdWUpOwogIHNlbnNvclZhbHVlID0gKHNlbnNvclZhbHVlICogMTAwKSAvIDEwMjQ7CiAgYm9vbGVhbiByZXNldFByZXNzZWQgPSBkaWdpdGFsUmVhZCgyKSA9PSBMT1c7CiAgaWYgKHJlc2V0UHJlc3NlZCkgewogICAgYWxhcm1BY3RpdmUgPSBmYWxzZTsKICAgIHN0b3BBbGFybSgpOwogICAgZGVsYXkoMjAwKTsKCiAgfQogIGlmIChzZW5zb3JWYWx1ZSA8IHRocmVzaG9sZCAmJiAhYWxhcm1BY3RpdmUpIHsKICAgIGFsYXJtQWN0aXZlID0gdHJ1ZTsKCiAgfQogIGlmIChhbGFybUFjdGl2ZSkgewogICAgdHJpZ2dlckFsYXJtKCk7CgogIH0KICBkZWxheSgzMDApOwoKfQ==</code>